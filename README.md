# üé´ Sistema de Gesti√≥n de Tickets - OOAPAS

Sistema web para la gesti√≥n eficiente de tickets de soporte t√©cnico desarrollado en Django.

## üöÄ Caracter√≠sticas

- ‚úÖ **Gesti√≥n de usuarios** con roles (Admin, Sistemas, Usuario)
- ‚úÖ **Sistema de tickets** con categor√≠as y prioridades
- ‚úÖ **Panel administrativo** para gesti√≥n de usuarios
- ‚úÖ **Interfaz responsive** con Bootstrap 5
- ‚úÖ **Autenticaci√≥n** y manejo de sesiones
- ‚úÖ **Filtros avanzados** y paginaci√≥n
- ‚úÖ **Dashboard** con estad√≠sticas

## üì¶ Requisitos del Sistema

- **Python 3.8 o superior** - [Descargar aqu√≠](https://www.python.org/downloads/)
- **pip** (viene incluido con Python)
- **Git** (opcional) - [Descargar aqu√≠](https://git-scm.com/)
- **PostgreSQL**  - [Descargar aqu√≠](https://www.postgresql.org/download/)

### Dependencias Python 
```
asgiref==3.8.1         
Django==5.2.2            
pillow==11.2.1          
psycopg2==2.9.10        
pytz==2025.2            
sqlparse==0.5.3        
tzdata==2025.2          
```
*Se instalan autom√°ticamente con: `pip install -r requirements.txt`*

## üì¶ Instalaci√≥n y Ejecuci√≥n

### Opci√≥n 1: Clonar desde GitHub

```bash
# 1. Clonar el repositorio
git clone https://github.com/ZetinaRodrigo/Tickets_OOAPAS.git

# 2. Entrar al directorio del proyecto
cd Tickets_OOAPAS
```

### Opci√≥n 2: Descargar ZIP

1. Ve a https://github.com/ZetinaRodrigo/Tickets_OOAPAS
2. Haz clic en el bot√≥n verde **"Code"**
3. Selecciona **"Download ZIP"**
4. Descomprime el archivo en tu carpeta deseada

## üìã Lista de Verificaci√≥n Pre-Instalaci√≥n

Antes de instalar, aseg√∫rate de tener decidido:

- [ ] **Base de datos**:PostgreSQL 
- [ ] **Email**: ¬øQu√© cuenta Gmail usar√°n para notificaciones?
- [ ] **Contrase√±a de aplicaci√≥n**: ¬øYa generaste la contrase√±a de 16 d√≠gitos?
- [ ] **Credenciales**: ¬øTienes usuario/contrase√±a de PostgreSQL (si la usas)?

### üîß Configuraci√≥n del Entorno

### üö® Configuraciones Obligatorias

Antes de ejecutar el servidor, **DEBES configurar** estas variables en `prueba1/settings.py`:

#### 1. Base de Datos (Elige una opci√≥n)

**Opci√≥n A: SQLite (M√°s f√°cil, para pruebas)**
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

**Opci√≥n B: PostgreSQL (Como en desarrollo original)**
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'tu_nombre_bd',           # Cambiar por tu BD
        'USER': 'tu_usuario_postgres',    # Cambiar por tu usuario
        'PASSWORD': 'tu_contrase√±a',      # Cambiar por tu contrase√±a
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
```

#### 2. Configuraci√≥n de Email (Para notificaciones)
```python
# En settings.py - CAMBIAR ESTAS CREDENCIALES
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'CAMBIAR-POR-TU-EMAIL@gmail.com'
EMAIL_HOST_PASSWORD = 'CAMBIAR-POR-CONTRASE√ëA-DE-APLICACION'
DEFAULT_FROM_EMAIL = 'CAMBIAR-POR-TU-EMAIL@gmail.com'
```

#### 3. Clave Secreta (Para producci√≥n)
```python
# Cambiar en settings.py para producci√≥n
SECRET_KEY = 'tu-nueva-clave-secreta-aqui'
```

```bash
# 3. Crear entorno virtual
python -m venv venv

# 4. Activar entorno virtual
# En Windows:
venv\Scripts\activate
# En Mac/Linux:
source venv/bin/activate

# 5. Instalar dependencias
pip install -r requirements.txt
```

### üóÑÔ∏è Configuraci√≥n de la Base de Datos

```bash
# 6. Crear las tablas de la base de datos
python manage.py makemigrations
python manage.py migrate
```

### üë§ Crear Usuario Administrador (Opcional)

```bash
# 7. Crear superusuario para acceso admin
python manage.py createsuperuser
```

### ‚ñ∂Ô∏è Ejecutar el Servidor

```bash
# 8. Iniciar el servidor de desarrollo
python manage.py runserver
```

**üåê El servidor estar√° disponible en:** http://127.0.0.1:8000/

## üîë Acceso al Sistema

### Usuarios del Sistema
- **URL Principal**: http://127.0.0.1:8000/
- **Panel Admin Django**: http://127.0.0.1:8000/admin/ (si creaste superusuario)

### Roles de Usuario
- **Admin**: Gesti√≥n completa de usuarios y tickets
- **Sistemas**: Gesti√≥n de tickets asignados
- **Usuario**: Creaci√≥n y seguimiento de tickets

## üìÅ Estructura del Proyecto

```
Tickets_OOAPAS/
‚îú‚îÄ‚îÄ manage.py                     # Archivo principal de Django
‚îú‚îÄ‚îÄ requirements.txt              # Dependencias del proyecto
‚îú‚îÄ‚îÄ README.md                     # Este archivo
‚îú‚îÄ‚îÄ prueba1/                      # Configuraci√≥n principal
‚îÇ   ‚îú‚îÄ‚îÄ settings.py              # Configuraci√≥n de Django
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                  # URLs principales
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py                  # Configuraci√≥n para producci√≥n
‚îú‚îÄ‚îÄ usuarios/                     # Aplicaci√≥n principal
‚îÇ   ‚îú‚îÄ‚îÄ models.py                # Modelos de datos
‚îÇ   ‚îú‚îÄ‚îÄ views.py                 # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                  # URLs de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ templates/               # Plantillas HTML
‚îÇ   ‚îî‚îÄ‚îÄ static/                  # Archivos CSS, JS, im√°genes
‚îú‚îÄ‚îÄ media/                       # Archivos subidos por usuarios
‚îî‚îÄ‚îÄ db.sqlite3                   # Base de datos (se crea autom√°ticamente)
```

## üö® Soluci√≥n de Problemas Comunes

### Error: "python no se reconoce como comando"
- Aseg√∫rate de tener Python instalado
- En Windows, verifica que Python est√© en el PATH

### Error: "No module named django"
- Verifica que el entorno virtual est√© activado: `venv\Scripts\activate`
- Instala las dependencias: `pip install -r requirements.txt`

### Error de permisos
- En Windows, ejecuta la terminal como administrador
- En Mac/Linux, verifica los permisos de la carpeta

### El servidor no inicia
```bash
# Verificar que el puerto 8000 no est√© ocupado
python manage.py runserver 8080  # Usar puerto alternativo
```

### Error al instalar psycopg2
```bash
# Si psycopg2 da problemas en Windows, usar:
pip install psycopg2-binary

# O si solo quieres usar SQLite, comenta psycopg2 en requirements.txt
```

### Instalar dependencias una por una (si hay problemas)
```bash
pip install Django==5.2.2
pip install pillow==11.2.1
pip install psycopg2-binary  # En lugar de psycopg2==2.9.10
pip install pytz==2025.2
```

### Error en env√≠o de correos
- Verificar que tengas **contrase√±a de aplicaci√≥n** de Gmail (no tu contrase√±a normal)
- Verificar que la **verificaci√≥n en 2 pasos** est√© activada
- Comprobar credenciales en `settings.py`

### Cambiar a SQLite si PostgreSQL falla
```python
# En settings.py, cambiar DATABASES por:
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

## üîß Configuraci√≥n Adicional

### Cambiar Puerto del Servidor
```bash
# Ejecutar en puerto diferente
python manage.py runserver 8080
# O especificar IP y puerto
python manage.py runserver 0.0.0.0:8000
```

### Configuraci√≥n de Env√≠o de Correos

El sistema incluye **notificaciones autom√°ticas por email** cuando se completan tickets. Para activar esta funci√≥n:

#### 1. Configurar Gmail para Aplicaciones
- Ve a tu **Cuenta de Google** ‚Üí Seguridad
- Activa **Verificaci√≥n en 2 pasos**
- Genera una **Contrase√±a de aplicaci√≥n**:
  - Ve a "Contrase√±as de aplicaciones"
  - Selecciona "Correo" y "Otros"
  - Escribe "Django Tickets"
  - **Guarda la contrase√±a generada** (16 caracteres)

#### 2. Configurar en settings.py
Modifica estas variables en `prueba1/settings.py`:

```python
# Configuraci√≥n de Email
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'tu-email@gmail.com'           # Tu Gmail
EMAIL_HOST_PASSWORD = 'contrase√±a-de-aplicacion'  # Los 16 caracteres generados
DEFAULT_FROM_EMAIL = 'tu-email@gmail.com'
```

#### 3. Configuraci√≥n Alternativa (Variables de Entorno)
**Opci√≥n m√°s segura** - Crear archivo `.env`:
```
EMAIL_HOST_USER=tu-email@gmail.com
EMAIL_HOST_PASSWORD=contrase√±a-de-aplicacion
```

Y en `settings.py`:
```python
import os
from decouple import config  # pip install python-decouple

EMAIL_HOST_USER = config('EMAIL_HOST_USER', default='')
EMAIL_HOST_PASSWORD = config('EMAIL_HOST_PASSWORD', default='')
```

**‚ö†Ô∏è IMPORTANTE**: 
- **Nunca subas las credenciales reales** a GitHub
- Usa **contrase√±a de aplicaci√≥n**, NO tu contrase√±a normal de Gmail
- **Cambia el email** por el de tu organizaci√≥n

### Configuraci√≥n de Base de Datos

#### Opci√≥n 1: SQLite (Recomendado para pruebas)
No requiere configuraci√≥n adicional, se usa por defecto.

#### Opci√≥n 2: PostgreSQL (Configuraci√≥n actual)
Si quieres usar PostgreSQL como en el desarrollo original:

1. **Instalar PostgreSQL** en tu sistema
2. **Crear una base de datos** llamada `tickets_ooapas` (o el nombre que prefieras)
3. **Modificar el archivo `prueba1/settings.py`**:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'tickets_ooapas',        # Nombre de tu base de datos
        'USER': 'tu_usuario_postgres',   # Tu usuario de PostgreSQL
        'PASSWORD': 'tu_contrase√±a',     # Tu contrase√±a de PostgreSQL
        'HOST': 'localhost',             # Servidor (localhost por defecto)
        'PORT': '5432',                  # Puerto (5432 por defecto)
    }
}
```

**‚ö†Ô∏è IMPORTANTE**: Cambiar las credenciales por las tuyas antes de usar PostgreSQL.

## üíª Comandos √ötiles

```bash
# Ver versi√≥n de Python
python --version

# Ver paquetes instalados
pip list

# Actualizar pip
python -m pip install --upgrade pip

# Desactivar entorno virtual
deactivate

# Ver logs del servidor (Ctrl+C para detener)
python manage.py runserver --verbosity=2
```

## üì± Funcionalidades del Sistema

### Dashboard Principal
- Vista general de tickets
- Estad√≠sticas por categor√≠a
- Filtros avanzados

### Gesti√≥n de Tickets
- Crear nuevos tickets
- Asignar tickets a t√©cnicos
- Actualizar estado de tickets
- Agregar reportes de finalizaci√≥n

### Administraci√≥n de Usuarios
- Registrar nuevos usuarios
- Aprobar/rechazar usuarios
- Gestionar roles y permisos

## üìû Soporte y Contacto

- **Desarrollador**: Rodrigo Zetina
- **GitHub**: https://github.com/ZetinaRodrigo/Tickets_OOAPAS
- **Empresa**: OOAPAS

## üìù Notas Importantes

- ‚ö†Ô∏è **Mantener el entorno virtual activado** mientras trabajas con el proyecto
- üîÑ **El servidor debe estar ejecut√°ndose** para acceder al sistema
- üíæ **La base de datos SQLite se crea autom√°ticamente** en el primer inicio
- üîê **Cambiar la SECRET_KEY** en producci√≥n (settings.py)

---

## üöÄ Inicio R√°pido (Resumen)

```bash
# 1. Descargar proyecto y entrar a la carpeta
cd Tickets_OOAPAS

# 2. Crear y activar entorno virtual  
python -m venv venv
venv\Scripts\activate

# 3. Instalar dependencias
pip install -r requirements.txt

# 4. Configurar base de datos
python manage.py migrate

# 5. Ejecutar servidor
python manage.py runserver
```

**üåê Abrir navegador en:** http://127.0.0.1:8000/

---

‚ö° **Desarrollado con Django y ‚ù§Ô∏è para OOAPAS** ‚ö°
